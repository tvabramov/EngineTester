# EngineTester

## Описание проекта
CLI утилита для определения времени перегрева двигателя внутреннего сгорания, работающего на холостом ходу.

## Сборка и запуск
Сборка осуществляется с помощью Visual Studuo 2019. Перед сборкой в коде "EngineTester.cpp" необходимо задать параметры двигателя:
```C++
shared_ptr<Engine> engine(new ICEngine(10, { {0.0, 20.0}, {75.0, 75.0}, {150.0, 100.0}, {200.0, 105.0}, {250.0, 75.0}, {300.0, 0.0} }, 110.0, 0.01, 0.0001, 0.1));
```

В данном случае создается двигатель внутреннего сгорания (ICEngine), описание конструктора которого находится в "Engines/ICEngine.h":
```C++
ICEngine(double _I, std::list<std::pair<double, double>> _M,
		double _overheatTempC, double _Hm, double _Hv, double _C);
```
Здесь:
  * **_I**: момент инерции двигателя, кг * м2;
  * **_M**: зависимость крутящего момента M (Н * м) от скорости вращения коленвала V (рад/с), заданная в виде пар (V[i], M[i]). Список **должен** быть упорядочен по V;
  * **_overheatTempC**: температура перегрева двигателя, C;
  * **_Hm**: коэффициент зависимости скорости нагрева от крутящего момента (C / (Н * м * с));
  * **_Hv**: коэффициент зависимости скорости нагрева от скорости коленвала (C * с / рад2);
  * **_C**: коэффициент зависимости скорости охлаждения от температуры двигателя и окр среды (1 / с).

Также необходимо настроить эмуляцию работы двигателя:
```C++
auto f = async(launch::async, &OverheatStand::doTest, engine, envTemp, 100us);
```

Вместо "100us" нужно ввести размер шага по времени, например 1s (одна секунда), 10ms (10 миллисекунд) и т.д. После этого можно запускать программу.

## Использование

После запуска в консоли будет предложено ввести температуру окружающей среды в C, затем, спустя некоторое время, произойдет один из возможных варантов:
  * Удачно завершится тестирование, будет выведено время работы до перегрева в секундах;
  * Выход по тайм-ауту, если тестирование длится очень долго;
  * Выход по исключению, если где-то в коде возникнет ошибка.

## Автор

* **Тимофей Абрамов** - *[timohamail@inbox.ru](mailto://timohamail@inbox.ru)*.